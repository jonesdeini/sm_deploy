.\"   $Id$
.\"
.\"   Man page for SM Framework deployment extension.
.\"
.\"   $Log$
.\"

.TH sm deploy 1 "2011 August 21" "SM Framework Extension deploy"

.SH NAME
sm deploy \- Deploy code and/or files.

.SH SYNOPSIS
.B sm deploy

.SH DESCRIPTION
SM deployment management extension
.B sm deploy
Deploys a predefined project code/file base with supporting configuration files
to a preconfigured location.
Defaults are to deploy from
.I $HOME/shared/{project}
to
.I $HOME/current

.SH OPTIONS
TODO

.SH ACTIONS
.IP deploy
Perform a deployment.

.IP revert
Revert the
.I $release_path
to the most recent previous release.

.SH CONFIGURATION
The
.I ~/.smrc
file may be used to configure deployment settings.

.SH STEPS

1. update_repository

2. deploy:

  a. stage
  b. configure
  c. symlink
  d. replace_current
  e. cleanup
  f. record

.SH HOOKS

  For each step there are two hooks one that is run before ('before_' prefix)
    and one that is run after ('after_' prefix).

  Each hook is the name of a step listed above prefixed with either before_ or
  after_.  For example around steps a - f there is a 'before_deploy' and an
  'after_deploy'

  If you want to execute a task before the code is moved in place but after
    everything is setup in the staging area, use 'before_replace_current' hook.

.SH PREREQUISITES

   - git
   - curl
   - rsync
   - subversion / mercurial (if the application's repository uses them).

.SH FEATURE REQUESTS
Feature requests may be sent to the project's GitHub repository which can be
found at https://github.com/sm/sm_deploy/issues

.SH BUGS
Bugs may be reported
Bugs may be entered into to the project's GitHub repository issue tracker which
can be found at https://github.com/sm/sm_deploy/issues

.SH NOTES

If any one of the deployment steps fail, then the deploy should fail as well.  If this is not the case please let me know right away and provide a gist of 'sm --trace deploy' so that I can inspect where the failure is occurring.

.SH RESOURCES
    http://extensions.beginrescueend.com/deploy/ #(documentation)
    https://www.pivotaltracker.com/projects/26822 #(development tracker)

.SH AUTHOR
Wayne E. Seguin <wayneeseguin@gmail.com>

